<!DOCTYPE html>
<html>

<head>
    <title>CurricuForge</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="data:,">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>

<body>

    <div class="page">


        <div class="card">

            <h1>CurricuForge AI</h1>
            <p class="tagline">Multi-Agent Curriculum Intelligence Engine</p>

            <div class="inputs">

                <!-- Planner Type -->
                <select id="plannerType" onchange="switchPlanner()">
                    <option value="" disabled selected>Select Planner Type</option>
                    <option value="semester">Semester Planner</option>
                    <option value="personal">Personal Planner</option>
                </select>

                <!-- ================= SEMESTER PLANNER ================= -->
                <div id="semesterForm" class="planner-section">

                    <select id="skill">
                        <option value="" disabled selected>Select Skill Domain</option>
                        <option>Artificial Intelligence</option>
                        <option>Data Science</option>
                        <option>Cybersecurity</option>
                        <option>Software Engineering</option>
                    </select>

                    <select id="level">
                        <option value="" disabled selected>Select Academic Level</option>
                        <option>Bachelors</option>
                        <option>Masters</option>
                    </select>

                    <select id="semesters">
                        <option value="" disabled selected>Select Program Duration (Semesters)</option>
                        <option>4</option>
                        <option>6</option>
                        <option>8</option>
                    </select>

                    <select id="hours">
                        <option value="" disabled selected>Select Weekly Hours</option>
                        <option>15</option>
                        <option>20</option>
                        <option>25</option>
                    </select>

                    <select id="focus">
                        <option value="" disabled selected>Select Focus Area</option>
                        <option>Research</option>
                        <option>Industry</option>
                        <option>Startup</option>
                    </select>

                    <label style="grid-column: 1 / -1; display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" id="includeCapstone" checked>
                        <span>Include Capstone Project in Final Semester</span>
                    </label>

                </div>

                <!-- ================= PERSONAL PLANNER ================= -->
                <div id="personalForm" class="planner-section" style="display:none;">

                    <select id="studyDomain">
                        <option value="" disabled selected>Select Study Domain</option>
                        <option>AI</option>
                        <option>Data Science</option>
                        <option>Cybersecurity</option>
                        <option>Software Engineering</option>
                    </select>

                    <select id="careerPath">
                        <option value="" disabled selected>Select Career Path</option>
                        <option>Job Ready</option>
                        <option>Research</option>
                        <option>Startup</option>
                        <option>Freelance</option>
                    </select>

                    <select id="experience">
                        <option value="" disabled selected>Select Experience Level</option>
                        <option>Beginner</option>
                        <option>Intermediate</option>
                        <option>Advanced</option>
                    </select>

                    <select id="pace">
                        <option value="" disabled selected>Select Learning Pace</option>
                        <option>Fast</option>
                        <option>Moderate</option>
                        <option>Slow</option>
                    </select>

                    <select id="weeklyHours">
                        <option value="" disabled selected>Select Weekly Hours</option>
                        <option>10</option>
                        <option>15</option>
                        <option>20</option>
                        <option>25</option>
                    </select>

                    <select id="duration">
                        <option value="" disabled selected>Select Duration</option>
                        <option>3 Months</option>
                        <option>6 Months</option>
                        <option>9 Months</option>
                        <option>12 Months</option>
                    </select>

                </div>

            </div>

            <button class="generate-btn" onclick="generate()">
                Generate Curriculum
            </button>

            <div class="agent-timeline">
                <div id="planner" class="agent-step">Planner</div>
                <div id="generator" class="agent-step">Generator</div>
                <div id="validator" class="agent-step">Validator</div>
            </div>

        </div>

        <div class="result-container">
            <div id="result"></div>
        </div>

        <!-- Refinement UI (hidden until a plan is generated) -->
        <div id="refineContainer" style="display:none; width:700px;">
            <div class="card" style="padding:16px;">
                <h3 style="margin:0 0 8px 0;">Refine Curriculum</h3>
                <textarea id="refineText"
                    placeholder="e.g. 'Make this more industry-focused and add one capstone project'"
                    style="width:100%; height:80px; padding:10px; border-radius:8px; background:#020617; color:white; border:1px solid rgba(148,163,184,0.15);"></textarea>
                <div style="display:flex; justify-content:flex-end; margin-top:8px;">
                    <button id="refineBtn" class="generate-btn" onclick="refinePlan()">Refine Curriculum</button>
                </div>
            </div>
        </div>



    </div>

    <script>

        function switchPlanner() {

            const type = document.getElementById("plannerType").value;
            const semesterForm = document.getElementById("semesterForm");
            const personalForm = document.getElementById("personalForm");

            if (type === "personal") {
                semesterForm.style.display = "none";
                personalForm.style.display = "grid";
            } else {
                semesterForm.style.display = "grid";
                personalForm.style.display = "none";
            }
        }

    </script>

    <script src="/static/app.js"></script>

</body>

</html>